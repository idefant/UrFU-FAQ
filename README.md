
#  UrFU - FAQ

## О проекте вкратце

**Название проекта:** Автоматизация общения с абитуриентами

__Команда:__ Improve Yourself

__Формат системы:__  Web-сервис, телеграмм-бот

__Цель:__ Создание сервиса для автоматизации общения с абитуриентами УрФУ

__Описание проекта:__ Один или несколько форматов автоматизации ответов на частые вопросы по приему в УрФУ. Это может быть чат-бот, лендинг с удобным поиском по вопросам или любой другой подходящий сервис.

__Целевая аудитория:__ Абитуриенты УрФУ

__Основное преимущество:__  На данный момент не существует достаточно удобных аналогов решения поставленной проблемы конкретно в УРФУ, однако существует несколько сайтов, позволяющие создать своего чат-бота или FAQ-страницы для необходимых задач.
- __Недостатки:__ высокая стоимость пользования и обслуживания бота, отсутствует гибкость решения, полная зависимость от работы чужого сервиса
- __Примеры:__
     - [«Botmother»](https://botmother.com/ru)
     - [«FAQ Bot»](https://www.faqbot.ai/)

__Работа пользователя с системой:__ Пользователь заходит на сайт. Выбрав категории, легко находит необходимую информацию



##  Стек технологий: 

-	__Язык программирования и фреймворк__ - В проекте используется фреймворк Python'а - Flask.
-	__Веб-сайт__ - Для создания сайта используются стандартные средства для web-разработки (HTML, CSS, JS)
-   __База данных__ - Для хранения контента и технической информации - Использование одной из популярных БД
-	__Чат-бот__ - Использование API VK для работы с ВКонтакте
-	__Поисковая система__ - Использование такого набора библиотек для обработки пользовательских запросов (возможно работа с дополнительными):
    -	enchant - Проверка орфографии и исправление слов
    -	fuzzywuzzy - Многофункциональная библиотека для нечеткого сравнения строк
    -	 pymorphy2 - Приведение слов к начальной форме
-	__Админ-панель__ - Обладает функционалом для работы c категориями
    -	контентом в виде пары: вопрос-ответ в визуальном редакторе
    -	системой контроля доступа в отдельные части админки
    -	технической информацией для отладки работы поисковой системы
    -	системой сортировки вопросов для настройки популярности



## Основные требования к ПО для пользования:

- Python 3.x

- Также пакеты для работы приложения (этот список есть в requirements.txt):

  ```
  alembic==1.6.0
  certifi==2020.12.5
  chardet==4.0.0
  click==7.1.2
  DAWG-Python==0.7.2
  docopt==0.6.2
  Flask==1.1.2
  Flask-CKEditor==0.4.6
  Flask-Classy==0.6.10
  Flask-Login==0.5.0
  Flask-Migrate==2.7.0
  Flask-Script==2.0.6
  Flask-SQLAlchemy==2.5.1
  Flask-WTF==0.14.3
  fuzzywuzzy==0.18.0
  greenlet==1.0.0
  gunicorn==20.1.0
  idna==2.10
  itsdangerous==1.1.0
  Jinja2==2.11.3
  Mako==1.1.4
  MarkupSafe==1.1.1
  pyenchant==3.2.0
  pymorphy2==0.9.1
  pymorphy2-dicts-ru==2.4.417127.4579844
  python-dateutil==2.8.1
  python-editor==1.0.4
  requests==2.25.1
  six==1.15.0
  SQLAlchemy==1.4.4
  urllib3==1.26.4
  vk-api==11.9.3
  Werkzeug==1.0.1
  WTForms==2.3.3
  ```



## Порядок установки: 

1. Пройти регистрацию в [Heroku](https://heroku.com)
2. Создать приложение
3. Скачать код и поместить содержимое папки src/ в отдельную папку для проекта
4. Инициализировать в этой папке git командой `git init .`
5. Установить [Heroku CLI](https://devcenter.heroku.com/articles/heroku-command-line) на компьютер
6. Войти в систему с помощью команды `heroku login`
7. Добавить репозиторий в удаленный командой `heroku git:remote -a {your-project-name}`, где *your-project-name*  - название приложения созданное на шаге 2
8. Загрузить проект на Heroku командой `git push heroku master`

Более подробную инструкцию можно найти [здесь](https://pythobyte.com/deploying-a-flask-application-to-heroku-756f527e/)



## Структура приложения:

Само приложение находится в директории src/ - она считается корнем

- /app.py - основной файл, необходимый для запуска
- /dbase.py - файл описывающий базу данных
- /forms.py - файл содержащий формы с их полями
- /Procfile - описывает, как необходимо запускать приложение с помощью gunicorn
- /requirements.txt - список необходимых для работы модулей и версий к каждой
- /search.py - функции для работы с поиском по базе вопросов
- /testfaq.db - база данных пока в SQLite
- /FAQ_CSV.csv - база вопросов, импортируемая в базу данных посредством функции `parse_table()` в файле search.py
- /website/website.py - Блюпринт отвечающий за работу сайта
- /website/templates/website/ - HTML-шаблоны для сайта
- /website/static/ - статичные файлы для сайта
- /templates/page404.html - страница ошибки 404
- /static/libraries/ - используемые библиотеки
- /migrations/ - файлы используемые для миграций базы данных
- /bot/bot.py - Блюпринт отвечающий за работу бота ВКонтакте
- /admin/admin.py - Блюпринт отвечающий за работу админки
- /admin/templates/admin/ - HTML-шаблоны для админки
- /admin/static/ - статичные файлы для админки
- /admin/form_handlers/ - обработчики форм для админки
- /admin/functions.py - функции импортируемые для работы админки

